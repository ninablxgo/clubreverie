<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ðŸ’¬ Club Chat</title>
</head>
<body style="font-family:sans-serif;text-align:center;padding:2rem;background-color:#111;color:#eee">
  <h2>ðŸ’¬ Envoie un message au mur</h2>
  <input id="nick" type="text" placeholder="Ton pseudo" style="padding:0.5rem;font-size:1rem;" /><br><br>
  <textarea id="msg" rows="4" cols="30" placeholder="Ton message..." style="padding:0.5rem;font-size:1rem;"></textarea><br><br>
  <button onclick="send()" style="padding:0.7rem 1.5rem;font-size:1rem;">Envoyer</button>
  <p id="status" style="margin-top:1rem;"></p>

  <script>
    const socket = new WebSocket("wss://hack.chat/chat-ws");

    socket.onopen = () => {
      socket.send(JSON.stringify({
        cmd: "join",
        channel: "club-reverie",
        nick: "Client-" + Math.floor(Math.random()*1000)
      }));
      document.getElementById("status").innerText = "âœ… ConnectÃ©";
    };

    function send() {
      const nick = document.getElementById("nick").value || "anon";
      const text = document.getElementById("msg").value;
      if (!text) return;

      socket.send(JSON.stringify({
        cmd: "chat",
        nick,
        text
      }));

      document.getElementById("msg").value = "";
      document.getElementById("status").innerText = "âœ… EnvoyÃ© !";
    }
  </script>
</body>
</html>

